class MicroInteractionsManager{constructor(){this.init()}init(){this.setupButtonInteractions(),this.setupCardInteractions(),this.setupFormInteractions(),this.setupModalInteractions(),this.setupDropdownInteractions(),this.setupTableInteractions(),this.setupNavigationInteractions(),this.setupKeyboardNavigation(),this.initializeRippleEffect()}setupButtonInteractions(){document.addEventListener("click",t=>{const e=t.target.closest("button, .btn, .btn-link");e&&!e.disabled&&this.addClickFeedback(e)}),document.addEventListener("mouseover",t=>{const e=t.target.closest("button, .btn, .btn-link");e&&!e.disabled&&this.addHoverEffect(e)}),document.addEventListener("mouseout",t=>{const e=t.target.closest("button, .btn, .btn-link");e&&this.removeHoverEffect(e)})}addClickFeedback(t){t.classList.add("btn-clicked"),this.createRipple(t,event),setTimeout(()=>{t.classList.remove("btn-clicked")},200)}addHoverEffect(t){t.classList.contains("no-hover")||t.classList.add("btn-hover")}removeHoverEffect(t){t.classList.remove("btn-hover")}setupCardInteractions(){document.addEventListener("mouseover",t=>{const e=t.target.closest(".card, .summary-card, .watchlist-item, .table-row");e&&!e.classList.contains("no-hover")&&e.classList.add("card-hover")}),document.addEventListener("mouseout",t=>{const e=t.target.closest(".card, .summary-card, .watchlist-item, .table-row");e&&e.classList.remove("card-hover")}),document.addEventListener("click",t=>{const e=t.target.closest(".card[data-clickable], .watchlist-item, .table-row[data-clickable]");e&&this.addCardClickEffect(e)})}addCardClickEffect(t){t.classList.add("card-clicked"),setTimeout(()=>{t.classList.remove("card-clicked")},150)}setupFormInteractions(){document.addEventListener("focusin",t=>{const e=t.target.closest("input, select, textarea");e&&this.addInputFocus(e)}),document.addEventListener("focusout",t=>{const e=t.target.closest("input, select, textarea");e&&this.removeInputFocus(e)}),document.addEventListener("input",t=>{const e=t.target;e.matches("input, textarea")&&this.updateFloatingLabel(e)}),document.addEventListener("invalid",t=>{this.addValidationFeedback(t.target,"invalid")})}addInputFocus(t){const e=t.closest(".form-group, .input-group, .form-floating");e&&e.classList.add("input-focused"),t.classList.add("input-focus")}removeInputFocus(t){const e=t.closest(".form-group, .input-group, .form-floating");e&&e.classList.remove("input-focused"),t.classList.remove("input-focus")}updateFloatingLabel(t){const e=t.closest(".form-floating, .floating-label");e&&(""!==t.value.trim()?e.classList.add("has-value"):e.classList.remove("has-value"))}addValidationFeedback(t,e){t.classList.add(`validation-${e}`),"invalid"===e&&(t.classList.add("shake-input"),setTimeout(()=>{t.classList.remove("shake-input")},500))}setupModalInteractions(){document.addEventListener("show.bs.modal",t=>{t.target.classList.add("modal-showing")}),document.addEventListener("shown.bs.modal",t=>{const e=t.target;e.classList.remove("modal-showing"),e.classList.add("modal-shown")}),document.addEventListener("hide.bs.modal",t=>{t.target.classList.add("modal-hiding")}),document.addEventListener("hidden.bs.modal",t=>{t.target.classList.remove("modal-shown","modal-hiding")})}setupDropdownInteractions(){document.addEventListener("show.bs.dropdown",t=>{const e=t.target.querySelector(".dropdown-menu");e&&e.classList.add("dropdown-showing")}),document.addEventListener("shown.bs.dropdown",t=>{const e=t.target.querySelector(".dropdown-menu");e&&(e.classList.remove("dropdown-showing"),e.classList.add("dropdown-shown"))}),document.addEventListener("hide.bs.dropdown",t=>{const e=t.target.querySelector(".dropdown-menu");e&&e.classList.add("dropdown-hiding")}),document.addEventListener("hidden.bs.dropdown",t=>{const e=t.target.querySelector(".dropdown-menu");e&&e.classList.remove("dropdown-shown","dropdown-hiding")})}setupTableInteractions(){document.addEventListener("mouseover",t=>{const e=t.target.closest("tr, .table-row");e&&!e.classList.contains("no-hover")&&e.classList.add("row-hover")}),document.addEventListener("mouseout",t=>{const e=t.target.closest("tr, .table-row");e&&e.classList.remove("row-hover")}),document.addEventListener("click",t=>{const e=t.target.closest("tr[data-selectable], .table-row[data-selectable]");e&&this.toggleRowSelection(e)})}toggleRowSelection(t){const e=t.classList.contains("row-selected");e||"true"===t.dataset.multiSelect||document.querySelectorAll(".row-selected").forEach(t=>{t.classList.remove("row-selected")}),t.classList.toggle("row-selected",!e),t.classList.add("row-selecting"),setTimeout(()=>{t.classList.remove("row-selecting")},200)}setupNavigationInteractions(){document.addEventListener("click",t=>{const e=t.target.closest(".nav-link, .sidebar-link");e&&this.addNavItemClickEffect(e)});const t=document.getElementById("sidebarToggle");t&&t.addEventListener("click",()=>{this.animateSidebarToggle()})}addNavItemClickEffect(t){t.classList.add("nav-clicking"),setTimeout(()=>{t.classList.remove("nav-clicking")},200)}animateSidebarToggle(){const t=document.querySelector(".sidebar"),e=document.querySelector(".main-content");t&&(t.classList.add("sidebar-transitioning"),setTimeout(()=>{t.classList.remove("sidebar-transitioning")},300)),e&&(e.classList.add("content-transitioning"),setTimeout(()=>{e.classList.remove("content-transitioning")},300))}setupKeyboardNavigation(){document.addEventListener("keydown",t=>{"Tab"===t.key&&document.body.classList.add("keyboard-navigation")}),document.addEventListener("mousedown",()=>{document.body.classList.remove("keyboard-navigation")}),document.addEventListener("keydown",t=>{"ArrowUp"!==t.key&&"ArrowDown"!==t.key||this.handleArrowKeyNavigation(t)}),document.addEventListener("keydown",t=>{if("Enter"===t.key||" "===t.key){const e=document.activeElement;e.matches('button, .btn, [role="button"]')&&" "===t.key&&(t.preventDefault(),e.click())}})}handleArrowKeyNavigation(t){const e=document.activeElement,s=e.closest(".table, .list-group, .watchlist-items");if(!s)return;const n=s.querySelectorAll("[tabindex], button, a, input, select, textarea"),o=Array.from(n).indexOf(e);if(-1===o)return;let a;a="ArrowUp"===t.key?o>0?o-1:n.length-1:o<n.length-1?o+1:0,n[a]&&(t.preventDefault(),n[a].focus())}initializeRippleEffect(){this.rippleElements=document.querySelectorAll(".btn, button, .card[data-ripple]"),this.rippleElements.forEach(t=>{t.addEventListener("click",e=>{this.createRipple(t,e)})})}createRipple(t,e){if(t.disabled||t.querySelector(".ripple"))return;const s=t.getBoundingClientRect(),n=Math.max(s.width,s.height),o=e.clientX-s.left-n/2,a=e.clientY-s.top-n/2,i=document.createElement("span");i.className="ripple",i.style.cssText=`\n            position: absolute;\n            width: ${n}px;\n            height: ${n}px;\n            left: ${o}px;\n            top: ${a}px;\n            background: rgba(255, 255, 255, 0.3);\n            border-radius: 50%;\n            transform: scale(0);\n            animation: ripple-animation 0.6s ease-out;\n            pointer-events: none;\n            z-index: 1;\n        `,"static"===getComputedStyle(t).position&&(t.style.position="relative"),t.appendChild(i),setTimeout(()=>{i.remove()},600)}setupSmoothScrolling(){document.addEventListener("click",t=>{const e=t.target.closest('a[href^="#"]');if(e&&"#"!==e.getAttribute("href")){t.preventDefault();const s=e.getAttribute("href").substring(1),n=document.getElementById(s);n&&n.scrollIntoView({behavior:"smooth",block:"start"})}})}addButtonLoadingState(t,e){t.textContent;const s=t.disabled;if(t.disabled=!0,t.classList.add("btn-loading"),!t.querySelector(".spinner-border")){const e=document.createElement("span");e.className="spinner-border spinner-border-sm me-2",e.setAttribute("role","status"),t.insertBefore(e,t.firstChild)}return e.finally(()=>{t.disabled=s,t.classList.remove("btn-loading");const e=t.querySelector(".spinner-border");e&&e.remove()})}staggerAnimation(t,e=100){t.forEach((t,s)=>{t.style.animationDelay=s*e+"ms",t.classList.add("stagger-item")})}setupParallaxEffect(){const t=document.querySelectorAll("[data-parallax]");if(0===t.length)return;let e=!1;window.addEventListener("scroll",()=>{e||(requestAnimationFrame(()=>{(()=>{const e=window.pageYOffset;t.forEach(t=>{const s=parseFloat(t.dataset.parallax)||.5,n=-e*s;t.style.transform=`translateY(${n}px)`})})(),e=!1}),e=!0)})}}document.addEventListener("DOMContentLoaded",()=>{window.microInteractions=new MicroInteractionsManager}),"undefined"!=typeof module&&module.exports&&(module.exports=MicroInteractionsManager);